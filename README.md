# Jekyll Minifier

Данный скрипт разработан для минификации html при использовании Jekyll в качестве генератора статических сайтов. Скрипт написан полностью на Liquid, поэтому не требует установки дополнительных модулей, а также полностью совместим с GitHub Pages.  
**Не работает с XHTML, т.к. убирает концевые "/" в тэгах**  
Под минификацией понимается:
* Удаление html комментариев.
* Удаление ненужных пробелов, табуляций и переносов строк.
* Когда нельзя удалять переносы строк, то заменить их пробелами (тэг p).
* Чувствительные к таким манипуляциям участки html оставить не тронутыми.

Целью разработки собственного минификатора явилось то, что аналоги не удовлетворяли моим запросам. Например портили мне встроенный JS. В данном минификаторе можно указать какие теги не нужно минифицировать. По умолчанию - это теги script, pre и textarea. Также можно указать для каких тэгов нужно удалять отступы, но нельзя удалять переносы строк. В этом случае перенос строки будет заменяться пробелом. По умолчанию указаны тэги p, a, li, td. Если у вас в разметке важны переносы строк в div, span, h1, h2 и т.д, то можно добавить и эти тэги, но смотрите что выйдет в итоге, т.к., например если span будет внутри pre, то ваша разметка может поехать.
Планируется разработка минификатора JS.

## Как использовать
1. Поместите minifier.html в папку _layouts вашего проекта. Данный файл находится в папке _layouts репозитория.
2. Укажите в html файлах проекта шаблон minifier. Например, в большинстве случаев достаточно в начало _layouts/default.html поместить следующее:
```
---
layout: minifier
---
```
Если все ваши html файлы основаны на шаблоне default, то в этом случае они автоматически минифицируются.

Скорректировать какие теги нужно оставлять интактными, а где нельзя удалять переносы строк можно в первых строчках скрипта.

